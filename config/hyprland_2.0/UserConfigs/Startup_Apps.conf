# /* ---- ðŸ’« https://github.com/JaKooLit ðŸ’« ---- */  #
#Commands & Apps to be executed at launch

$scriptsDir = $HOME/.config/hypr/scripts
$UserScripts = $HOME/.config/hypr/UserScripts

$wallDIR=$HOME/Pictures/wallpapers
$lock = $scriptsDir/LockScreen.sh
$SwwwRandom = $UserScripts/WallpaperAutoChange.sh

# wallpaper stuff - DMS handles wallpapers
#exec-once = swww-daemon --format xrgb
#exec-once = $SwwwRandom $wallDIR # random wallpaper switcher every 30 minutes

# Startup - D-Bus environment MUST be set FIRST before any other apps
exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = systemctl --user import-environment WAYLAND_DISPLAY XDG_CURRENT_DESKTOP

# DankMaterialShell - Modern Wayland Desktop Shell
# Start DMS immediately after D-Bus is ready
exec-once = dms run

# Start pyprland daemon (lightweight, fast startup)
exec-once = pypr &

# Index files for fast Spotlight search (delayed to not compete with DMS)
exec-once = dsearch serve &
exec-once = sleep 10 && dsearch index generate &

# Polkit (Polkit Gnome / KDE) - DMS has built-in polkit
#exec-once = $scriptsDir/Polkit-NixOS.sh

# OLD APPS - DISABLED (replaced by DMS)
#exec-once = waybar &
#exec-once = dunst &
#exec-once = nm-applet --indicator &
#exec-once = ags &
#exec-once = blueman-applet &
#exec-once = $scriptsDir/batterynotify.sh
#exec-once = rog-control-center &

# clipboard manager - DMS has built-in clipboard
#exec-once = wl-paste --type text --watch cliphist store
#exec-once = wl-paste --type image --watch cliphist store

# Starting hypridle to start hyprlock - DMS has built-in idle/lock
#exec-once = hypridle &

# Autostart Special Workspace Apps (uncomment if desired)
# exec-once = [workspace special:terminal silent] kitty
# exec-once = [workspace special:browser silent] firefox
# exec-once = [workspace special:browser silent] brave


# Here are list of features available but disabled by default
# DMS handles wallpapers
#exec-once = swaybg -i $HOME/Pictures/wallpapers/5.png &

#gnome polkit for nixos - DMS has built-in polkit
#exec-once = $scriptsDir/Polkit-NixOS.sh

# xdg-desktop-portal-hyprland (should be auto starting on NixOS)
# Disabled: PortalHyprland.sh has hardcoded non-NixOS paths
# exec-once = $scriptsDir/PortalHyprland.sh
